<div class="row">
    <div class="col-lg-8 offset-lg-2">
        <h4 class="page-title">Edit Appointment</h4>
    </div>
</div>

<div class="row">
    <div class="col-lg-8 offset-lg-2">
        <form (ngSubmit)="createAppointment()">

            <!-- Appointment ID (readonly) -->
            <div class="row">


                <!-- Patient -->
                <!-- Patient -->
                <div class="col-md-12">
                    <div class="form-group">
                        <label>Patient</label>
                        <select class="form-control" [(ngModel)]="appoint.patientId" name="patientId" required>

                            <option value="">Select Patient</option>

                            <option *ngFor="let p of patients$ | async" [ngValue]="p.patientId">
                                {{ p.name }}
                            </option>

                        </select>

                    </div>
                </div>

            </div>

            <!-- Doctor -->
            <div class="row">
                <!-- Doctor -->
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Doctor</label>
                        <select class="form-control" [(ngModel)]="appoint.doctorId" name="doctorId" required>

                            <!-- Default option with null -->
                            <option [ngValue]="null">Select Doctor</option>

                            <!-- Loop doctors and bind number directly -->
                            <option *ngFor="let d of doctors$ | async" [ngValue]="d.id">
                                {{ d.firstName }}
                            </option>
                        </select>


                    </div>
                </div>


                <!-- Appointment Date -->
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Appointment Date</label>
                        <input type="date" class="form-control" [(ngModel)]="appoint.appointmentDate"
                            name="appointmentDate">
                    </div>
                </div>
            </div>

            <!-- Appointment Time -->
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Appointment Time</label>
                        <input type="time" class="form-control" [(ngModel)]="appoint.appointmentTime"
                            name="appointmentTime">
                    </div>
                </div>

                <!-- Appointment Type -->
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Appointment Type</label>
                        <input type="text" class="form-control" [(ngModel)]="appoint.appointmentType"
                            name="appointmentType">
                    </div>
                </div>
            </div>

            <!-- Reason -->
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Reason</label>
                        <input type="text" class="form-control" [(ngModel)]="appoint.reason" name="reason">
                    </div>
                </div>

                <!-- Token Number -->
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Token Number</label>
                        <input type="number" class="form-control" [(ngModel)]="appoint.tokenNumber" name="tokenNumber">
                    </div>
                </div>
            </div>

            <!-- Consultation Fee -->
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Consultation Fee</label>
                        <input type="number" class="form-control" [(ngModel)]="appoint.consultationFee"
                            name="consultationFee">
                    </div>
                </div>

                <!-- Remarks -->
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Remarks</label>
                        <input type="text" class="form-control" [(ngModel)]="appoint.remarks" name="remarks">
                    </div>
                </div>
            </div>

            <!-- Status -->
            <div class="form-group">
                <label class="display-block">Status</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="status" [(ngModel)]="appoint.status"
                        value="Active">
                    <label class="form-check-label">Active</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="status" [(ngModel)]="appoint.status"
                        value="Inactive">
                    <label class="form-check-label">Inactive</label>
                </div>
            </div>

            <!-- Submit / Cancel -->
            <div class="m-t-20 text-center">
                <button type="submit" class="btn btn-primary submit-btn mr-2">Create Appointment</button>
                <button type="button" class="btn btn-secondary submit-btn" (click)="cancel()">Cancel</button>
            </div>

        </form>
    </div>
</div>